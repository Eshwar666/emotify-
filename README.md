# emotify-
"Emotify is a music application designed to enhance your listening experience by providing playlists tailored to your emotional state. Whether you're feeling happy, sad, or anything in between, Emotify curates the perfect soundtrack for your mood.

Recommending music based on your facial expressions using the FER 2013 dataset and Spotify API.

This project is done by TEAM LXXXV for  Postman x API challenge hosted by Marwadi University 2024 :

1. SHAGUN TYAGI
2. ESHWAR ANAND BADUGU
3. ARJUN MADATHIL MOOLAKARAN
4. SANJANA GAJAVELLI

## Project Description
The emotion recognition model is trained on the FER 2013 dataset and can detect 7 emotions. The project works by capturing live video feed from a webcam, passing it through the model to predict the emotion. Based on the predicted emotion, the app fetches playlists of songs from Spotify using the Spotipy wrapper and recommends songs displayed on the screen.

## Features
- Real-time expression detection and song recommendations.
- Playlists fetched from Spotify using the API.
- Neumorphism UI for the website.

## Running the App
**Flask:**
1. Run `pip install -r requirements.txt` to install all dependencies.
2. In `Spotipy.py`, enter your credentials generated by your Spotify Developer account in 'auth_manager'. Note: This is only required if you want to update recommendation playlists. Also, uncomment the import statement in `camera.py`.
3. Run `python app.py` and give camera permission if prompted.

## Tech Stack
- Keras
- TensorFlow
- Spotipy
- Postman (used for testing the API)
- Flask
- Opencv

## Dataset
The dataset used for this project is the FER2013 dataset. Models trained on this dataset can classify 7 emotions. The dataset can be found [here](https://www.kaggle.com/msambare/fer2013).

## Model Architecture
- The model architecture is a sequential model consisting of Conv2D, MaxPooling2D, Dropout, and Dense layers:
  1. Conv2D layers throughout the model have different filter sizes ranging from 32 to 128, all with 'relu' activation.
  2. Pooling layers have a pool size of (2,2).
  3. Dropout is set to 0.25, as higher values result in poor performance.
  4. The final Dense layer has 'softmax' activation for classifying 7 emotions.
- Used 'categorical_crossentropy' for loss with 'Adam' optimizer and 'accuracy' metric.

## Image Processing
- Images are normalized, resized to (48,48), and converted to grayscale in batches of 64 with the help of 'ImageDataGenerator' in the Keras API.

## Current Condition
The entire project works perfectly fine. Live detection provides good frame rates due to multithreading.

## Project Components
- **Spotipy**: A module for establishing a connection to and getting tracks from Spotify using the Spotipy wrapper.
- **Haarcascade**: Used for face detection.
- **camera.py**: The module for video streaming, frame capturing, prediction, and recommendation, which are passed to `main.py`.
- **main.py**: The main Flask application file.
- **index.html**: Located in the 'templates' directory, this is the web page for the application, created with basic HTML and CSS.
- **utils.py**: An utility module for video streaming from the webcam with threads to enable real-time detection.
- **train.py**: The script for image processing and training the model.

---


